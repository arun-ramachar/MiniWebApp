<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mini Web Application</title>
    <link rel="stylesheet" href="style.css">

</head>
<body>
    <div class="myCal"></div>
     <!-- <div class= "output">0</div> -->

     
    <script>
        const myCalculator= document.querySelector(".myCal");
        const myKeys=[["1","2","3","+"],["4","5","6","-"],["7","8","9","*"],
    ["C","0","=","/"]];

    // 1 2 3 +
    // 4 5 6 -
    // 7 8 9 *
    // C 0 = /

    const myOper= ["+","-","*","/"];
    let myOutput;
        document.addEventListener("DOMContentLoaded",function(){
            myOutput = document.createElement("div");
            myOutput.innerHTML="0";
            myOutput.classList.add("output");
            myCalculator.appendChild(myOutput);
            //console.log(myOutput);

            for(let y =0; y< myKeys.length; y++){
                 let div = document.createElement("div");
                 div.classList.add("row")
                 for(let x=0; x< myKeys[y].length; x++){
                     //console.log(myKeys[y][x]);
                     let btn=document.createElement("div");
                     btn.innerHTML= myKeys[y][x];
                     btn.classList.add("btn");
                     btn.addEventListener("click",btnHit);
                     div.appendChild(btn);
                 }

                 myCalculator.appendChild(div);
            }

        })

        function btnHit(e){
            console.log(e);
            console.log(this.innerText);
            let myValue= this.innerText;
            //when clicked the value the value going to store
            let myCal = myOutput.innerText;
            if(myCal==="0"){
                // "0" we used because html takes as string
                myCal="";
            }

            if (myValue=="="){
                myCal= eval(myCal);
            }else{

            let lastChar= myCal.substring(myCal.length-1);
            console.log(lastChar);

            if (myOper.includes(myValue)){
                if(myOper.includes(lastChar)){
                    myCal=myCal.substring(0,myCal.length-1);
                }else{
                myCal= eval(myCal);
            }
            }
            
            myCal=myCal+myValue;
        }
        if (myValue=="C"){
            myCal= 0;
        }
            myOutput.innerHTML= myCal; 


        }

    </script>
</body>
</html>